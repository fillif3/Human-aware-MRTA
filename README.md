This repostory contains a code for a novel method for solving MRTA. It contains ROS package with Simualtor which uses this method and a code for creating model of human behavoiur with machine learning method FreMEn.

I have created my software using Ubuntu 18.04 OS, and I do not guarantee that it will run on another OS. Firstly, a user should download ROS using a standard procedure which can be found here http://wiki.ros.org/ROS/Installation. I used Melodic Morenia distribution in my project. User should download additional tools which are “Map_server” and “Rviz” and all needed dependencies for them during the installation of ROS. Moreover, the user should download all the required python libraries. The easiest way to do this is by using PIP which is a package manager for Python packages. It can be downloaded here https://pypi.org/project/pip/. Once the user has PIP, each library can be downloaded with this command “pip install library” in terminal. “library” has to be replaced by li- brary’s name (for instance “pip install numpy”). The needed libraries are math, NumPy, Matplotlib, random, sys, time, cv2, Os, SciPy and copy. User needs to create a catkin workspace according to previously linked tutorials. Then, two ROS packages should download from https://github.com/sergimolina/fremen and copy from simulation folder. Then, the user should update them into workspace according to instructions from ROS wiki. Then, the rest of the project should be downloaded from https://git-teaching.cs.bham.ac.uk/mod-msc-proj-2019/fxs902. Directory “catkin_ws” from the last task will be referred to as “main folder”

To run the simulation, the user has to open four tabs in a terminal. In the first tab, “roscore” command has to be used. Next tabs have to be opened in the “main folder”. In the second tab, the map server has to be activated by command “rosrun map_server map_server map.yaml”. In the third tab, Rviz (a tool for visualization, optional) can be activated by the command “rosrun rviz rviz -d vizu.rviz”. In the last tab, simulation can be started by “rosrun mscProject Simulator.py X Y”. X should be replaced by a chosen number of robots. Y should be replaced by a desired speed of sim- ulation while simulation’s speed is equal to real-time multiplied by Y. Then, Simulator will start the simulation. Once the simulation is over, data are saved, and the next simulation starts.

The standard simulation works with human’s data from the 12.12.2012. If the user wants to simulate another day, a few steps have to be done. Firstly, data about humans position has to be downloaded from https://irc.atr.jp/crest2010_HRI/ATC_dataset/. Afterwards, the chosen day should be placed in the “main folder”/STeF-Map/data directory. The terminal should be opened in
“main folder”/STeF-Map and “python csvToText.py” should be tapped to create a new text file which will be located in “main folder”/STeF-Map/data directory. Then, the user has to place this text file in “main folder”. Then, in Simulator.py in mscProject package, the value of the global varia- ble “fname” has to be changed to the same name as a new text file (line 33). Lastly, the user has to be sure that predictions of human behaviour of this day are stored in “main folder”/predicted_bi- nary_img2. To create predictions, the machine learning model has to be trained. Firstly, the chosen data of humans positions need to be placed in “main folder”/STeF-Map/data and like before, csvToText.py 46has to be used to obtain text files. The desired timestamps of predictions have to be saved in “main folder”/STeF-Map/times/times_to_predic_20121107_10min_0to24.txt in which each line (maxi- mum 144 lines) is the timestamp in Unix time. To create such file, python script ts.py from that folder can be used. If one additional argument of a float type is passed in the terminal, it will rewrite the text file to made 144 predictions. It will start from the chosen input (in Unix time), and there will be 10 minutes differences between predictions.

Then, the user has to run the Fremen server with command “rosrun fremenarray fremenarray” in the tab (roscore has to be also activated). Then another tab has to be opened in “main folder”/STeF-Map and command “python main.py” has to be tapped. The predictions will be saved in “main folder”/STeF-Map/predicted_binady_img.
